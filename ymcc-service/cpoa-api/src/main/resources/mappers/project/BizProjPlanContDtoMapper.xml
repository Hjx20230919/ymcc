<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.cnpc.cpoa.mapper.project.BizProjPlanContDtoMapper">
    <resultMap id="BaseResultMap" type="cn.com.cnpc.cpoa.vo.project.ProjPlanContVo">
        <result column="ID" jdbcType="VARCHAR" property="id"/>
        <result column="PLAN_LIST_ID" jdbcType="VARCHAR" property="planListId"/>
        <result column="CONT_ID" jdbcType="VARCHAR" property="contId"/>
        <result column="CONT_NAME" jdbcType="VARCHAR" property="contName"/>
    </resultMap>

    <!--查询附件-->
    <select id="selectPlanCont" parameterType="java.util.Map" resultMap="BaseResultMap">
        SELECT TPPC.*,TCC.CONT_NAME FROM T_PROJ_PLAN_CONT TPPC
        LEFT JOIN T_CONT_CONTRACTOR TCC ON TPPC.CONT_ID=TCC.CONT_ID

        <where>
            <if test="planListId!=null and planListId!=''">
                and TPPC.PLAN_LIST_ID=#{planListId}
            </if>

        </where>
    </select>


</mapper>