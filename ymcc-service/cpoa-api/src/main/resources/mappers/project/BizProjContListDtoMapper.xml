<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.cnpc.cpoa.mapper.project.BizProjContListDtoMapper">
    <resultMap id="BaseResultMap" type="cn.com.cnpc.cpoa.domain.project.BizProjContListDto">
        <result column="CONT_LIST_ID" jdbcType="VARCHAR" property="contListId"/>
        <result column="SEL_CONT_ID" jdbcType="VARCHAR" property="selContId"/>
        <result column="CONT_ID" jdbcType="VARCHAR" property="contId"/>
        <result column="ACCESS_TYPE" jdbcType="VARCHAR" property="accessType"/>
        <result column="ACCESS_SCOPE" jdbcType="VARCHAR" property="accessScope"/>
        <result column="NOTES" jdbcType="VARCHAR" property="notes"/>
        <result column="CONT_NAME" jdbcType="VARCHAR" property="contName"/>
        <result column="ACCESS_LEVEL" jdbcType="VARCHAR" property="accessLevel"/>
    </resultMap>

    <!--查询选商列表-->
    <select id="selectProjContList" parameterType="java.util.Map" resultMap="BaseResultMap">
        SELECT TPCL.*,TCC.CONT_NAME,TCC.ACCESS_LEVEL
        FROM T_PROJ_CONT_LIST TPCL
        LEFT JOIN T_CONT_CONTRACTOR TCC
        ON TPCL.CONT_ID=TCC.CONT_ID
        <where>
            <if test="selContId!=null and selContId!=''">
                and TPCL.SEL_CONT_ID =#{selContId}
            </if>

            <if test="projId!=null and projId!=''">
                or TPCL.SEL_CONT_ID =#{projId}
            </if>
        </where>
    </select>


</mapper>